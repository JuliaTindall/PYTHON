#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on 08/09/2020

@author: earjcti

This will plot global mean 

"""

import numpy as np
import matplotlib.pyplot as plt
import iris
import iris.quickplot as qplt

MODELNAME = 'CESM2'
FIELD = 'NearSurfaceTemperature'

PERIOD = 'EOI400'
FILENAME = ('/nfs/hera1/earjcti/regridded/' + MODELNAME + 
            '/' + PERIOD + '.' + FIELD + '.allmean.nc')

print(FILENAME)

cube_pliocene = iris.load_cube(FILENAME, FIELD)

PERIOD = 'E280'
FILENAME = ('/nfs/hera1/earjcti/regridded/' + MODELNAME + 
            '/' + PERIOD + '.' + FIELD + '.allmean.nc')

cube_pi = iris.load_cube(FILENAME, FIELD)

cube_anomaly = cube_pliocene - cube_pi

V=np.arange(-10.0, 10.2, 0.2) 

qplt.contourf(cube_anomaly, V, extend='both', cmap='RdBu_r')
plt.title('anomaly')
plt.gca().coastlines()
plt.show()



